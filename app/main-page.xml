<Page xmlns="http://www.nativescript.org/tns.xsd" loaded="pageLoaded" cssClass="main-page" actionBarHidden="true">
    <StackLayout cssClass="app-body-container">
		<StackLayout cssClass="main-page-heading">
			<Label text="Push Notifications" cssClass="heading-title" />
			<Label text="by Telerik Backend Services" cssClass="heading-subtitle" />
		</StackLayout>

        <StackLayout cssClass="app-messages-container" visibility="{{ notificationMsg ? 'collapsed' : 'visible' }}">
            <Label text="{{ headerText }}" cssClass="welcome-msg" textWrap="true" visibility="{{ isLoading ? 'collapsed' : 'visible' }}"/>
            <Label text="{{ registrationMessage }}" cssClass="registration-msg" textWrap="true"/>
            
            <ActivityIndicator col="2" busy="{{ isLoading }}" horizontalAlignment="center" cssClass="loading-indicator" />
        </StackLayout>
        
        <StackLayout visibility="{{ notificationMsg ? 'visible' : 'collapsed' }}">
            <Label text="New push message received:" cssClass="new-notification-label" textWrap="true"/>
            <Label text="{{ notificationMsg }}" cssClass="notificationMsg" textWrap="true"/>
            
            <Label text="Received on:" cssClass="timestamp-label" textWrap="true" />
            <Label text="{{ notificationMsgTimestamp }}" cssClass="timestamp" textWrap="true" />
        </StackLayout>

        <Button text="{{ buttonText }}" tap="{{ registrationTapAction }}" cssClass="registration-btn" visibility="{{ isLoading ? 'collapsed' : 'visible' }}"/>
    </StackLayout>
</Page>
